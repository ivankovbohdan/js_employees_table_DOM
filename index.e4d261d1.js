var e,t=document.querySelector("body"),a=document.querySelector("thead").querySelectorAll("th"),r=document.querySelector("tbody"),n=r.querySelectorAll("tr"),l=document.createElement("button"),o=["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"];function c(e){return"$"+parseFloat(e).toLocaleString()}function u(e,a,r){t.querySelectorAll('[data-qa="notification"]').forEach(function(e){return e.remove()});var n=document.createElement("div");n.setAttribute("data-qa","notification"),n.className="notification ".concat(e);var l=document.createElement("h2");l.textContent=a,n.append(l);var o=document.createElement("p");o.textContent=r,n.append(o),t.append(n),setTimeout(function(){n.remove()},2e3)}a.forEach(function(e,t){e.addEventListener("click",function(){var n,l,o="desc";a.forEach(function(e,a){a!==t&&e.removeAttribute("data-sort-order")}),o="asc"===e.getAttribute("data-sort-order")?"desc":"asc",e.setAttribute("data-sort-order",o),n=o,l=Array.from(r.querySelectorAll("tr")).sort(function(e,a){var r=e.children[t].innerText.replaceAll("$","").replaceAll(",",""),l=a.children[t].innerText.replaceAll("$","").replaceAll(",","");switch(n){case"asc":if(!isNaN(parseFloat(r))&&!isNaN(parseFloat(l)))return r-l;return r.localeCompare(l);case"desc":if(!isNaN(parseFloat(r))&&!isNaN(parseFloat(l)))return l-r;return l.localeCompare(r);default:return 0}}),r.innerHTML="",l.forEach(function(e){r.append(e)})})}),n.forEach(function(e,t){e.addEventListener("click",function(){n.forEach(function(e,a){a!==t&&e.removeAttribute("class")}),e.setAttribute("class","active")})}),r.addEventListener("dblclick",function(e){var t=e.target.closest("td");if(!r.querySelector(".editing")){var n=document.createElement("input");n.className="cell-input";var l=a[t.cellIndex].textContent.trim().toLowerCase();n.type="age"===l||"salary"===l?"number":"text",n.value=t.textContent.replaceAll("$","").replaceAll(",",""),t.classList.add("editing"),t.innerHTML="",t.append(n),n.focus(),n.addEventListener("blur",function(){var e=!0,a="";if(n.value.trim().length<1)e=!1,a="All fields are required";else if("name"===l&&(t.textContent||n.value.length<4))e=!1,a="The name must contain at least 4 letters";else if("age"===l){var r=parseInt(t.textContent,10);(r<18||r>90||n.value<18||n.value>90)&&(e=!1,a="Age should be from 18 to 90 years")}else if("salary"===l){var o=parseFloat(n.value.replaceAll("$","").replaceAll(",",""));(isNaN(o)||o<0)&&(e=!1,a="Salary should be a positive number")}e?(t.classList.remove("editing"),"salary"===l?t.textContent=c(n.value.replaceAll("$","").replaceAll(",",""))||t.textContent:t.innerHTML=n.value.trim()||t.textContent,u("success","Success","The employee was updated successfully")):(u("error","Error",a),n.focus())}),n.addEventListener("keydown",function(e){"Enter"===e.key&&n.blur()})}}),(e=document.createElement("form")).className="new-employee-form",l.textContent="Save to table",l.type="button",["name","position","age","salary"].forEach(function(t,a){var r=document.createElement("label"),n=document.createElement("input");if(r.textContent="".concat(t.charAt(0).toUpperCase()+t.slice(1),": "),"age"===t||"salary"===t?n.type="number":n.type="text",n.setAttribute("name",t),n.setAttribute("data-qa",t),n.setAttribute("required",!0),r.append(n),2===a){var l=document.createElement("label"),c=document.createElement("select");l.textContent="Office",c.setAttribute("data-qa","office"),o.forEach(function(e){var t=document.createElement("option");t.value=e,t.textContent=e,c.append(t)}),l.append(c),e.append(l)}e.append(r)}),e.append(l),t.append(e),l.addEventListener("click",function(){var e,t,a=document.querySelector(".new-employee-form"),n=a.querySelectorAll("input"),l=a.querySelector("select"),o=n[0].value,i=parseInt(n[2].value,10),s=!0,d="";(n.forEach(function(e){e.value.trim()||(s=!1,d="All fields are required")}),s&&(o.length<4&&(s=!1,d="The name must contain at least 4 letters"),(i<18||i>90)&&(s=!1,d="Age should be from 18 to 90 years")),s)?(e={name:n[0].value,position:n[1].value,office:l.value,age:n[2].value,salary:c(n[3].value)},t=document.createElement("tr"),Object.values(e).forEach(function(e){var a=document.createElement("td");a.textContent=e,t.append(a)}),r.append(t),document.querySelector(".new-employee-form").reset(),u("success","Success","The employee was added successfully")):u("error","Error",d)});
//# sourceMappingURL=index.e4d261d1.js.map
